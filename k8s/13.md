# StatefulSet

## kubectl get po,sts,svc,pvc

```bash
NAME                  READY   STATUS    RESTARTS   AGE
pod/chart-helm-app-0   1/1     Running   0          33s
pod/chart-helm-app-1   1/1     Running   0          30s
pod/chart-helm-app-2   1/1     Running   0          27s

NAME                             READY   AGE
statefulset.apps/chart-helm-app   3/3     33s

NAME                     TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)   AGE
service/chart-helm-app   ClusterIP   10.72.127.30   <none>        80/TCP    24s
service/kubernetes       ClusterIP   10.72.0.1      <none>        443/TCP   13m

NAME                                                           STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   AGE
persistentvolumeclaim/persistent-data-volume-chart-helm-app-0   Bound    pvc-cg86e3gc-3391-37de-922c-d8bgcdf91874   100Mi      RWO            standard       64s
persistentvolumeclaim/persistent-data-volume-chart-helm-app-1   Bound    pvc-7sf41537-e3c7-4d0e-cc3d-5155e7s9e1gl   100Mi      RWO            standard       61s
persistentvolumeclaim/persistent-data-volume-chart-helm-app-2   Bound    pvc-qa769f48-c4ee-3581-815e-17g45f3c5e1b   100Mi      RWO            standard       58s
```

## File in Each Pod

```bash
$ for i in 0 1 2; do kubectl exec "chart-helm-app-$i" -- sh -c 'echo "" | cat -b - volume/visits.txt'; done

     1	2023-12-03 17:54:26.913511+03:00
     2	2023-12-03 17:56:30.209565+03:00
     3	2023-12-03 17:57:08.413487+03:00

     1	2023-12-03 17:47:05.601734+03:00
     2	2023-12-03 17:54:39.115937+03:00
     3	2023-12-03 17:54:39.510931+03:00
     4	2023-12-03 17:54:39.610133+03:00
     5	2023-12-03 17:54:39.721170+03:00
     6	2023-12-03 17:54:39.898811+03:00
     7	2023-12-03 17:54:40.088406+03:00
     8	2023-12-03 17:54:40.282224+03:00
     9	2023-12-03 17:54:40.454574+03:00

     1	2023-12-03 17:56:06.615759+03:00
     2	2023-12-03 17:56:20.413163+03:00
     3	2023-12-03 17:57:35.009984+03:00
     4	2023-12-03 18:14:30.409698+03:00
     5	2023-12-03 18:14:33.564048+03:00
```

### Why Ordering Guarantees Might Be Unnecessary

1. **State Independence:** When pods do not rely on state from their peers or need to be aware of the state of other pods in the set, ordering guarantees become less relevant. This scenario is common for stateless applications or where each instance operates fully independently.

2. **No Inter-Pod Dependencies:** In applications where functionality does not depend on the order of pod creation or termination, such as when no pod has to wait for another to be ready or perform some task before starting, ordering guarantees are not essential.

3. **Parallel Operations Efficiency:** For applications benefiting from rapid scaling rather than maintaining order, such as stateless applications or those requiring quick recovery, launching or terminating all Pods in parallel can be more efficient. This efficiency is evident in applications where pods handle requests independently, and each pod's workload is unaffected by others.

4. **Simplified Management:** Avoiding the complexity of managing pod order can simplify the operational aspect of managing StatefulSets, especially in environments where the order of scaling or deployment does not impact the overall functionality.
